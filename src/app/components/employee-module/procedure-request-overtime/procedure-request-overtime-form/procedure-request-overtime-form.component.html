<p-toast></p-toast>
<div *ngIf="display" class="grid grid-nogutter">
  <div class="col-12 p-0">
    <div class="px-2 py-3">
      <h5
        [translate]="
          isEdit ? 'label.edit_suggest_overtime' : 'label.add_suggest_overtime'
        "
      ></h5>
      <form [formGroup]="form" autocomplete="off">
        <div class="grid w-full">
          <!-- Code Control -->
          <div class="field col-12 md:col-4 flex flex-column">
            <label htmlFor="code"
            >{{
                "label.code" | translate
              }}<span class="text-pink-400">*</span></label
            >
            <input
              pInputText
              disabled
              [(ngModel)]="form.value.procedureNumber"
              formControlName="procedureNumber"
              [ngClass]="checkValidValidator('procedureNumber')"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="'label.code' | translate"
            />
            <small
              *ngIf="checkValidValidator('procedureNumber')"
              class="p-error"
              [innerHTML]="'label.code' | translate"
            ></small>
          </div>
          <!-- Status Control -->
          <!--          <div class="field col-12 md:col-4 flex flex-column">-->
          <!--            <label htmlFor="days"-->
          <!--              >{{ "label.status" | translate-->
          <!--              }}<span class="text-pink-400">*</span></label-->
          <!--            >-->
          <!--            <input-->
          <!--              pInputText-->
          <!--              [(ngModel)]="form.value.procedureStatusName"-->
          <!--              formControlName="procedureStatusName"-->
          <!--              [ngClass]="checkValidValidator('procedureStatusName')"-->
          <!--              [ngModelOptions]="{ standalone: true }"-->
          <!--              [placeholder]="'label.status' | translate"-->
          <!--            />-->
          <!--            <small-->
          <!--              *ngIf="checkValidValidator('procedureStatusName')"-->
          <!--              class="p-error"-->
          <!--              [innerHTML]="'label.status' | translate"-->
          <!--            ></small>-->
          <!--          </div>-->
          <!-- Employee Control -->
          <div class="field col-12 md:col-4 flex flex-column">
            <label htmlFor="employeesName"
            >{{
                "label.employee_name" | translate
              }}<span class="text-pink-400">*</span></label
            >
            <p-multiSelect
              [options]="employees"
              [formControlName]="'userIds'"
              [filter]="true"
              [filterBy]="'fullName'"
              optionLabel="fullName"
              optionValue="id"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="'label.employee_name' | translate"
              [ngClass]="checkValidValidator('userIds')"
            >
            </p-multiSelect>
            <small
              *ngIf="checkValidValidator('userIds')"
              class="p-error"
              [innerHTML]="'label.employee_name' | translate"
            ></small>
          </div>
          <!-- From Datetime Control -->
          <div class="field col-12 md:col-4 flex flex-column">
            <label htmlFor="employeesName"
            >{{
                "label.from_at" | translate
              }}<span class="text-pink-400">*</span></label
            >
            <p-calendar
              [formControlName]="'fromAt'"
              [(ngModel)]="form.value.fromAt"
              appendTo="body"
              [showIcon]="true"
              [showTime]="true"
              [ngModelOptions]="{ standalone: true }"
              [style]="{ width: '100%' }"
              [placeholder]="'label.from_at' | translate"
            ></p-calendar>
            <small
              *ngIf="checkValidValidator('fromAt')"
              class="p-error"
              [innerHTML]="'label.from_at' | translate"
            ></small>
          </div>
          <!-- To Datetime Control -->
          <div class="field col-12 md:col-4 flex flex-column">
            <label htmlFor="employeesName"
            >{{
                "label.to_at" | translate
              }}<span class="text-pink-400">*</span></label
            >
            <p-calendar
              [formControlName]="'toAt'"
              [(ngModel)]="form.value.toAt"
              appendTo="body"
              [showIcon]="true"
              [showTime]="true"
              [ngModelOptions]="{ standalone: true }"
              [style]="{ width: '100%' }"
              [placeholder]="'label.to_at' | translate"
            ></p-calendar>
            <small
              *ngIf="checkValidValidator('toAt')"
              class="p-error"
              [innerHTML]="'label.to_at' | translate"
            ></small>
          </div>
          <div class="field col-12 md:col-4 flex flex-column">
            <label htmlFor="employeesName"
            >{{
                "label.coefficient" | translate
              }}<span class="text-pink-400">*</span></label
            >
            <p-inputNumber
              mode="decimal"
              [minFractionDigits]="1"
              [(ngModel)]="form.value.coefficient"
              [formControlName]="'coefficient'"
            >
            </p-inputNumber>
            <small
              *ngIf="checkValidValidator('coefficient')"
              class="p-error"
              [innerHTML]="'label.coefficient' | translate"
            ></small>
          </div>
          <!-- Reason Control -->
          <div class="field col-12 md:col-12 flex flex-column">
            <label htmlFor="reason"
            >{{
                "label.reason" | translate
              }}<span class="text-pink-400">*</span></label
            >
            <textarea
              class="mt-1"
              pInputTextarea
              [rows]="3"
              [(ngModel)]="form.value.name"
              [formControlName]="'name'"
              [label]="'label.reason' | translate"
              [cols]="30"
            ></textarea>
          </div>
          <!-- The end Control -->
          <!--          <div class="field col-12 md:col-4 flex flex-column">-->
          <!--            <label htmlFor="time_end"-->
          <!--              >{{ "label.time_end" | translate-->
          <!--              }}<span class="text-pink-400">*</span></label-->
          <!--            >-->
          <!--            <p-checkbox-->
          <!--              class="mt-1"-->
          <!--              [label]="'label.time_end' | translate"-->
          <!--              [formControlName]="'isFinish'"-->
          <!--              [(ngModel)]="form.value.isFinish"-->
          <!--              [binary]="true"-->
          <!--              inputId="binary"-->
          <!--            >-->
          <!--            </p-checkbox>-->
          <!--            <small-->
          <!--              *ngIf="checkValidValidator('userId')"-->
          <!--              class="p-error"-->
          <!--              [innerHTML]="'label.employee_name' | translate"-->
          <!--            ></small>-->
          <!--          </div>-->
        </div>
        <div class="col-12">
          <div class="p-fluid p-formgrid grid mt-2">
            <div class="field col-12 gap-8 flex justify-content-end mt-4 p-0">
              <p-button
                icon="pi pi-times"
                (click)="onCancel.emit({})"
                [label]="'button.backF6' | translate"
                styleClass="p-button-outlined"
              ></p-button>
              <p-button
                icon="pi pi-check"
                (click)="onSubmit()"
                [label]="'button.saveF8' | translate"
              >
              </p-button>
              <p-button
                icon="pi pi-check"
                (click)="onSubmitAndContinue()"
                [label]="'button.save_continue_F10' | translate"
              >
              </p-button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
