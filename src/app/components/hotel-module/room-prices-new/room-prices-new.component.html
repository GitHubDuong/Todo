<div class="px-2 py-3">
  <h5 class="px-2 pt-2">{{ "label.empty_room_and_price" | translate }}</h5>
  <div class="grid p-fluid">
      <div class="col-12 md:col-3">
          <p-calendar
              [showIcon]="true"
              inputId="icon"
              [(ngModel)]="startDate"
              dateFormat="dd-mm-yy"
              [placeholder]="'label.start_date' | translate"
              (onSelect)="getData()"
          ></p-calendar>
      </div>
      <div class="col-12 md:col-3">
          <p-calendar
              [showIcon]="true"
              inputId="icon"
              [(ngModel)]="endDate"
              dateFormat="dd-mm-yy"
              [placeholder]="'label.end_date' | translate"
              (onSelect)="getData()"
          ></p-calendar>
      </div>
      <div class="col-12 md:col-3">
          <p-dropdown
              id="type"
              [options]="roomTypes"
              [(ngModel)]="roomType"
              [ngClass]="{
                  'input-error': itemAdd.roomTypeId == null && inValid
              }"
              placeholder="{{
                  'label.room_types_type_placeholder' | translate
              }}"
              optionLabel="name"
              optionValue="id"
              appendTo="body"
              showClear="true"
              (onChange)="getData()"
          ></p-dropdown>
      </div>
      <div class="col-12 md:col-3 flex justify-content-end">
          <p-button
              icon="pi pi-plus"
              (click)="dialogShow = true"
              [label]="'label.room_price_add' | translate"
          ></p-button>
      </div>
      <div class="col-12 mb-2" *ngFor="let room of roomPrices">
          <ng-container *ngIf="!room.prices">
              {{ "label.no_data" | translate }}
          </ng-container>
          <ng-container *ngIf="room.prices">
              <span class="text-xxl text-primary font-bold"
                  >{{ "label.type" | translate }}
                  {{ room.roomTypeName }}:</span
              >
              <div class="mt-2 flex gap-1 flex-column">
                  <!--            {{ room.prices | json }}-->
                  <div *ngFor="let item of room.prices | keyvalue">
                      <div class="flex flex-column">
                          <div class="flex">
                              <div class="flex flex-column">
                                  <div class="item-month">
                                      <span class="">
                                          {{ item.key | date: "MM/YYYY" }}
                                      </span>
                                  </div>
                                  <div
                                      class="item-wrap flex flex-row flex-wrap gap-8"
                                  >
                                      <ng-container
                                          *ngFor="let itemPrice of item.value"
                                      >
                                          <div
                                              class="item-price flex flex-column"
                                              (click)="onDayClick(itemPrice)"
                                          >
                                              <div class="flex flex-column">
                                                  <span>
                                                      {{
                                                          loadDay(
                                                              itemPrice.date
                                                          )
                                                      }}-{{
                                                          itemPrice.date
                                                              | date: "dd"
                                                      }}
                                                  </span>
                                              </div>
                                              <div
                                                  class="item-price-quantity"
                                              >
                                                  <div>
                                                      {{
                                                          itemPrice.quantityOrder
                                                      }}/{{
                                                          itemPrice.quantity
                                                      }}
                                                  </div>
                                                  <div
                                                      *ngIf="
                                                          itemPrice.isHaveBreakfast
                                                      "
                                                  >
                                                      <svg
                                                          height="24px"
                                                          width="24px"
                                                          version="1.1"
                                                          id="Layer_1"
                                                          xmlns="http://www.w3.org/2000/svg"
                                                          xmlns:xlink="http://www.w3.org/1999/xlink"
                                                          viewBox="0 0 491.208 491.208"
                                                          xml:space="preserve"
                                                      >
                                                          <circle
                                                              style="
                                                                  fill: #eaeaea;
                                                              "
                                                              cx="245.608"
                                                              cy="246.004"
                                                              r="160.8"
                                                          />
                                                          <path
                                                              style="
                                                                  fill: #dbdbdb;
                                                              "
                                                              d="M359.208,132.404c62.4,62.4,62.4,164,0,227.2c-62.4,62.4-164,62.4-227.2,0"
                                                          />
                                                          <circle
                                                              style="
                                                                  fill: #c4c4c4;
                                                              "
                                                              cx="245.608"
                                                              cy="246.004"
                                                              r="108"
                                                          />
                                                          <path
                                                              style="
                                                                  fill: #ffffff;
                                                              "
                                                              d="M370.408,241.204c0,68.8-56,83.2-124.8,83.2s-124.8-14.4-124.8-83.2s56-72.8,124.8-72.8
S370.408,171.604,370.408,241.204z"
                                                          />
                                                          <path
                                                              style="
                                                                  fill: #eaeaea;
                                                              "
                                                              d="M245.608,167.604c68.8,0,124.8,4,124.8,72.8s-56,83.2-124.8,83.2"
                                                          />
                                                          <circle
                                                              style="
                                                                  fill: #ffc114;
                                                              "
                                                              cx="245.608"
                                                              cy="246.004"
                                                              r="53.6"
                                                          />
                                                          <path
                                                              style="
                                                                  fill: #fca12a;
                                                              "
                                                              d="M283.208,208.404c20.8,20.8,20.8,54.4,0,75.2s-54.4,20.8-75.2,0"
                                                          />
                                                          <path
                                                              style="
                                                                  fill: #3ac2f2;
                                                              "
                                                              d="M491.208,111.604c0-44.8-24-81.6-52.8-81.6c-29.6,0-52.8,36-52.8,81.6c0,39.2,18.4,55.2,42.4,57.6
c-11.2,52.8-10.4,196.8-10.4,233.6c0,44.8-1.6,58.4,20.8,58.4s20.8-13.6,20.8-58.4c0-36.8,0.8-180.8-10.4-232.8
C472.808,166.804,491.208,151.604,491.208,111.604z"
                                                          />
                                                          <path
                                                              style="
                                                                  fill: #009cc6;
                                                              "
                                                              d="M438.408,461.204c22.4,0,20.8-13.6,20.8-58.4c0-36.8,0.8-180.8-10.4-232.8
c24-3.2,42.4-18.4,42.4-57.6c0-44.8-24-81.6-52.8-81.6"
                                                          />
                                                          <path
                                                              style="
                                                                  fill: #3cc676;
                                                              "
                                                              d="M102.408,132.404c0.8-0.8,0.8-3.2,0.8-4.8v-1.6l0,0c0,0,0-4.8,0-8.8c0-15.2,0.8-83.2-13.6-83.2
s-13.6,68-13.6,83.2c0,4,0,8.8,0,8.8h-11.2c0,0,0-4.8,0-8.8c0-15.2,0.8-83.2-13.6-83.2c-14.4,0-13.6,68.8-13.6,83.2c0,4,0,8.8,0,8.8
h-10.4c0,0,0-4.8,0-8.8c0-14.4,0.8-83.2-13.6-83.2s-13.6,68-13.6,83.2c0,4,0,8.8,0,8.8l0,0c0,0,0,0.8,0,1.6c0,1.6,0,3.2,0.8,4.8
c5.6,24.8,20.8,35.2,40.8,37.6c-12,52-11.2,196-11.2,232.8c0,44.8-1.6,58.4,20.8,58.4s20.8-13.6,20.8-58.4
c0-36.8,1.6-180.8-10.4-232.8C81.608,167.604,96.808,157.204,102.408,132.404z"
                                                          />
                                                          <path
                                                              style="
                                                                  fill: #0aa06e;
                                                              "
                                                              d="M103.208,126.004c0,0,0-4.8,0-8.8c0-15.2,0.8-83.2-13.6-83.2s-13.6,68-13.6,83.2c0,4,0,8.8,0,8.8
h-11.2c0,0,0.8-4.8,0.8-8.8c0-14.4,4-80-12-82.4v426.4c24,0,19.2-14.4,19.2-58.4c0-36.8,0.8-180.8-11.2-232.8
c19.2-2.4,35.2-12.8,40.8-37.6c0.8-0.8,0.8-3.2,0.8-4.8C103.208,126.804,103.208,126.004,103.208,126.004L103.208,126.004z"
                                                          />
                                                      </svg>
                                                  </div>
                                              </div>
                                              <div class="">
                                                  {{
                                                      thousandConverter(
                                                          itemPrice.price
                                                      )
                                                  }}
                                              </div>
                                          </div>
                                      </ng-container>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </ng-container>
      </div>
  </div>
</div>
<p-dialog
  [(visible)]="dialogShow"
  [breakpoints]="{ '1200px': '95vw' }"
  [style]="{ width: '50vw' }"
  [modal]="true"
  [draggable]="false"
  [resizable]="false"
  (onHide)="onCancel()"
>
  <ng-template pTemplate="header">
      <span class="text-xl font-bold">{{
          "label.room_price_header" | translate
      }}</span>
  </ng-template>
  <p-toast></p-toast>
  <div class="grid">
      <div class="col-12 md:col-6">
          <p-calendar
              class="w-full"
              [showIcon]="true"
              inputId="icon"
              [(ngModel)]="itemAdd.fromAt"
              [ngClass]="{
                  'input-error': itemAdd.fromAt == null && inValid
              }"
              dateFormat="dd-mm-yy"
              [placeholder]="'label.start_date' | translate"
              appendTo="body"
              (onSelect)="
                  itemAdd.fromAt > itemAdd.toAt ? (itemAdd.toAt = null) : null
              "
          ></p-calendar>
      </div>
      <div class="col-12 md:col-6">
          <p-calendar
              class="w-full"
              [ngClass]="{
                  'input-error': itemAdd.toAt == null && inValid
              }"
              [showIcon]="true"
              inputId="icon"
              [(ngModel)]="itemAdd.toAt"
              dateFormat="dd-mm-yy"
              [placeholder]="'label.end_date' | translate"
              appendTo="body"
              [minDate]="itemAdd.fromAt"
          ></p-calendar>
      </div>
      <div class="col-12 md:col-6">
          <p-dropdown
              id="type"
              [options]="roomTypes"
              [(ngModel)]="itemAdd.roomTypeId"
              [ngClass]="{
                  'input-error': itemAdd.roomTypeId == null && inValid
              }"
              placeholder="{{
                  'label.room_types_type_placeholder' | translate
              }}"
              optionLabel="name"
              optionValue="id"
              appendTo="body"
          ></p-dropdown>
      </div>
      <div class="col-12 md:col-6">
          <p-inputNumber
              class="w-full"
              placeholder="{{ 'label.room_price_price' | translate }}"
              [ngClass]="{
                  'input-error': !itemAdd.price && inValid
              }"
              [(ngModel)]="itemAdd.price"
          ></p-inputNumber>
      </div>
      <div class="col-12 md:col-6">
          <p-dropdown
              id="isHaveBreakfast"
              [options]="listQuestIsBreakfast"
              [(ngModel)]="itemAdd.isHaveBreakfast"
              placeholder="{{ 'label.breakfast_placeholder' | translate }}"
              [optionLabel]="'label'"
              optionValue="value"
              appendTo="body"
          ></p-dropdown>
      </div>
  </div>
  <ng-template pTemplate="footer">
      <div class="grid gap-2">
          <p-button
              icon="pi pi-plus"
              (click)="onContine()"
              [label]="'button.contineF6' | translate"
          ></p-button>
          <p-button
              icon="pi pi-times"
              (click)="onCancel()"
              [label]="'button.cancelF7' | translate"
              styleClass="p-button-outlined"
          ></p-button>
          <p-button
              icon="pi pi-check"
              (click)="onSubmit()"
              [label]="'button.saveF8' | translate"
          >
          </p-button>
      </div>
  </ng-template>
</p-dialog>
<p-dialog
  [(visible)]="dialogDay"
  [breakpoints]="{ '1200px': '95vw' }"
  [style]="{ width: '50vw' }"
  [modal]="true"
  [draggable]="false"
  [resizable]="false"
  (onHide)="onCancel()"
>
  <ng-template pTemplate="header">
      <span class="text-xl font-bold">{{
          "label.room_price_header" | translate
      }}</span>
  </ng-template>
  <p-toast></p-toast>
  <div class="grid">
      <div class="col-12 md:col-6">
          <p-inputNumber
              class="w-full"
              placeholder="{{ 'label.room_price_price' | translate }}"
              [ngClass]="{
                  'input-error': !dayChoice.price && inValid
              }"
              [(ngModel)]="dayChoice.price"
          ></p-inputNumber>
      </div>
      <div class="col-12 md:col-6">
          <p-dropdown
              id="isHaveBreakfast"
              [options]="listQuestIsBreakfast"
              [(ngModel)]="dayChoice.isHaveBreakfast"
              placeholder="{{ 'label.breakfast_placeholder' | translate }}"
              [optionLabel]="'label'"
              optionValue="value"
              appendTo="body"
          ></p-dropdown>
      </div>
  </div>
  <ng-template pTemplate="footer">
      <div class="grid gap-2">
          <p-button
              icon="pi pi-times"
              (click)="onCancel()"
              [label]="'button.cancelF7' | translate"
              styleClass="p-button-outlined"
          ></p-button>
          <p-button
              icon="pi pi-check"
              (click)="onSubmitDay()"
              [label]="'button.saveF8' | translate"
          >
          </p-button>
      </div>
  </ng-template>
</p-dialog>
